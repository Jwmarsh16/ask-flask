/* client/src/App.css */
/* --- Page shell around ChatBot; layout + app-level styling --- */

/* Root page container: centers the app and adds breathing room */
.af-app-container,
.app-container {
  min-height: 100vh;
  padding: var(--af-space-6) var(--af-space-3) var(--af-space-6);
  /* ^ CHANGED: use design tokens for consistent spacing */
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

/* App shell: constrains width and stacks header + main layout */
.af-app-shell,
.app-shell {
  width: 100%;
  max-width: var(--af-content-max-width); /* CHANGED: use shared max-width token */
  margin: 0 auto;
}

/* Top app header: product-style bar with subtle separation */
.af-app-header,
.app-header {
  display: flex;
  align-items: center;
  gap: var(--af-space-3); /* CHANGED: token-based gap */
  margin: 0 auto var(--af-space-4);
  padding: var(--af-space-2) var(--af-space-3);
  width: 100%;
  max-width: calc(var(--af-content-max-width) - 80px);
  color: var(--af-color-text);
  border-radius: var(--af-radius-lg);
  background: linear-gradient(
      120deg,
      rgba(148, 163, 184, 0.12),
      rgba(15, 23, 42, 0.9)
    ); /* CHANGED: subtle gradient header bg */
  border: 1px solid var(--af-color-border-subtle);
  box-shadow: var(--af-shadow-soft);
}

/* Decorative logo badge (glowing orb / chip) */
.af-app-logo,
.app-logo {
  width: 32px;
  height: 32px;
  border-radius: var(--af-radius-sm);
  background:
    radial-gradient(8px 8px at 30% 30%, #93c5fd, transparent),
    radial-gradient(12px 12px at 70% 70%, #38bdf8, transparent),
    linear-gradient(135deg, #0b3b7a, #0a2f61);
  border: 1px solid rgba(148, 163, 184, 0.25);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    0 4px 14px rgba(0, 0, 0, 0.35);
}

/* App title: strong, gradient text for product identity */
.af-app-title,
.app-title {
  margin: 0;
  font-size: clamp(22px, 2.2vw + 12px, 28px);
  font-weight: 800;
  letter-spacing: 0.2px;
  background: linear-gradient(90deg, #ffffff, #dbeafe);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent; /* gradient text */
}

/* Optional subtitle under the title */
.af-app-subtitle,
.app-subtitle {
  margin: 2px 0 0 8px;
  font-size: var(--af-text-sm);
  color: var(--af-color-text-muted);
}

/* Main layout: sidebar + chat, in a responsive grid */
.af-app-main,
.app-main {
  display: grid; /* CHANGED: move grid from inline style into CSS */
  grid-template-columns: var(--af-sidebar-width) minmax(0, 1fr);
  gap: var(--af-space-4);
  align-items: stretch;
  width: 100%;
  margin-top: var(--af-space-4);
}

/* Sidebar wrapper: glass panel with its own scroll region if needed */
.af-app-sidebar,
.app-sidebar {
  min-height: 0;
  max-height: calc(100vh - var(--af-header-height) - 80px);
  /* CHANGED: aim to keep sidebar within viewport height */
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: var(--af-color-bg-elevated);
  border-radius: var(--af-radius-lg);
  border: 1px solid var(--af-color-border-subtle);
  box-shadow: var(--af-shadow-soft);
}

/* Chat panel wrapper: primary content area */
.af-app-chat,
.app-chat {
  min-height: 0;
  max-height: calc(100vh - var(--af-header-height) - 80px);
  /* CHANGED: ensure chat can scroll inside rather than overflow page */
  display: flex;
  flex-direction: column;
  background: radial-gradient(
      140% 200% at 0% 0%,
      rgba(56, 189, 248, 0.05),
      transparent 55%
    ),
    radial-gradient(
      120% 200% at 100% 100%,
      rgba(129, 140, 248, 0.04),
      transparent 55%
    ),
    var(--af-color-bg-elevated);
  border-radius: var(--af-radius-lg);
  border: 1px solid var(--af-color-border-subtle);
  box-shadow: var(--af-shadow-soft);
}

/* Generic glass panel utility for reuse (can be used by other components) */
.af-glass-panel {
  background: var(--af-color-bg-elevated);
  backdrop-filter: blur(24px);
  border-radius: var(--af-radius-lg);
  border: 1px solid var(--af-color-border-subtle);
  box-shadow: var(--af-shadow-soft);
}

/* Muted helper text style (for headers, hints, etc.) */
.af-text-muted {
  color: var(--af-color-text-muted);
  font-size: var(--af-text-sm);
}

/* Responsive behavior: stack sidebar under header on small screens */
@media (max-width: 840px) {
  .af-app-main,
  .app-main {
    grid-template-columns: 1fr; /* stack sidebar above chat */
  }

  .af-app-sidebar,
  .app-sidebar {
    max-height: none;
    order: 1;
  }

  .af-app-chat,
  .app-chat {
    max-height: none;
    order: 2;
  }

  .af-app-header,
  .app-header {
    max-width: 100%;
  }
}
